import "./__farm_runtime.8e83bd1e.mjs";import "./index_3ead.f20e8f52.js";import "./index_656c.dd21de96.js";import "./index_c7da.82e0c256.js";import "./index_cbaa.c195decc.js";import "./index_cfb9.9fbbb206.js";import "./index_e840.41112cd6.js";import "./index_fda8.9f67d9a4.js";import * as __farm_external_module_fs from "fs";(globalThis || window || global)['650c7debb79582d1916d16c65fb3085a'].__farm_module_system__.setExternalModules({"fs": {...__farm_external_module_fs,__esModule:true}});(function(_){for(var r in _){_[r].__farm_resource_pot__='index_172f.js';(globalThis || window || global)['650c7debb79582d1916d16c65fb3085a'].__farm_module_system__.register(r,_[r])}})({"953dfae2":function  (e,t,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"run",{enumerable:!0,get:function(){return f;}});let n=i("@swc/helpers/_/_interop_require_default"),d=n._(i("29bf5eaf")),u=i("6fca8cd7"),c=n._(i("5ba0ffaf")),r=n._(i("fs")),p=n._(i("ee53cd14")),s=i("cfbad0c2");async function f(){try{let e=process.cwd();r.default.mkdirSync(`${e}/dist`),await (0,s.cloneRepo)(),await (0,u.exec)("npm install pnpm i -g"),d.default.debug("pnpm"),await (0,u.exec)("cd ./tdesign-starter-cli && pnpm install"),await (0,u.exec)("cd ./tdesign-starter-cli && pnpm run build"),await (0,u.exec)("pnpm run dev init template-vite-vue2 --description 这是一个vite构建的vue2项目 --type vue2 --template lite --buildToolType vite"),await (0,u.exec)("pnpm run dev init template-vite-vue3 --description 这是一个vite构建的vue3项目 --type vue3 --template lite --buildToolType vite"),await (0,u.exec)("pnpm run dev init template-vite-react --description 这是一个vite构建的react项目 --type react --template lite --buildToolType vite");let t=await c.default.create("template-vite-*/vite.config.*");d.default.debug(`vite ${t}`);let i=await t.glob();d.default.debug(`files ${i}`),i.map(async t=>{d.default.debug(`file ${t}`);let i=t.match(/template-vite-(.*)\//);d.default.debug(`templateName ${i}`);let l=r.default.readFileSync(t,"utf-8");if(!i)return d.default.setFailed("模版名称匹配失败");let n=l.replace("defineConfig({",`defineConfig({
 base: ${i[0]},`);r.default.writeFileSync(t,n),(0,u.exec)(`cd ${i[0]} && pnpm install && pnpm run build`),r.default.renameSync(`${t}/dist`,`${e}/dist/${i[0]}`);}),await new Promise((t,i)=>{p.default.publish(e+"/dist",{branch:"gh-pages",message:"自动部署更新",silent:!1},e=>{if(e)return console.error("部署失败",e),d.default.setFailed(e.message),i(e);d.default.debug("部署成功"),t();});});}catch(e){e instanceof Error&&d.default.setFailed(e.message);}}f();},"cfbad0c2":function  (e,t,c,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneRepo",{enumerable:!0,get:function(){return s;}});let n=c("@swc/helpers/_/_interop_require_default")._(c("29bf5eaf")),l=c("6fca8cd7"),s=async()=>{try{let e=await (0,l.exec)("git",["clone","--depth=1","--single-branch","--branch","dev","https://github.com/Tencent/tdesign-starter-cli","tdesign-starter-cli"]);0!==e&&n.default.setFailed("clone repo failed"),n.default.debug("clone repo success");}catch(e){e instanceof Error&&n.default.setFailed(e.message);}};},});(globalThis || window || global)['650c7debb79582d1916d16c65fb3085a'].__farm_module_system__.setInitialLoadedResources(['index_3ead.f20e8f52.js','index_656c.dd21de96.js','index_c7da.82e0c256.js','index_cbaa.c195decc.js','index_cfb9.9fbbb206.js','index_e840.41112cd6.js','index_fda8.9f67d9a4.js']);(globalThis || window || global)['650c7debb79582d1916d16c65fb3085a'].__farm_module_system__.setDynamicModuleResourcesMap({  });var farmModuleSystem = (globalThis || window || global)['650c7debb79582d1916d16c65fb3085a'].__farm_module_system__;farmModuleSystem.bootstrap();var entry = farmModuleSystem.require("953dfae2");var run=entry.run;export { run };
//# sourceMappingURL=index.js.map