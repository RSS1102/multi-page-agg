{"version":3,"sources":[""],"sourcesContent":["import * as __farm_external_module_fs from \"fs\";(globalThis || window || global)['650c7debb79582d1916d16c65fb3085a'].__farm_module_system__.setExternalModules({\"fs\": {...__farm_external_module_fs,__esModule:true}});(function(_){for(var r in _){_[r].__farm_resource_pot__='index_172f.js';(globalThis || window || global)['650c7debb79582d1916d16c65fb3085a'].__farm_module_system__.register(r,_[r])}})({\"953dfae2\":function  (e,r,t,i){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),Object.defineProperty(r,\"run\",{enumerable:!0,get:function(){return l;}});let c=t(\"@swc/helpers/_/_interop_require_default\"),n=t(\"@swc/helpers/_/_interop_require_wildcard\")._(t(\"29bf5eaf\")),s=c._(t(\"fs\")),o=t(\"cfbad0c2\");async function l(){try{let e=process.cwd();process.chdir(\"..\"),n.info(`currentDir ${e}`),s.default.mkdirSync(`${e}/dist`),await (0,o.cloneRepo)(),await (0,o.pnpmInstall)(),await (0,o.buildProducts)(),await (0,o.generateViteTemplate)({rootDir:e});}catch(e){e instanceof Error&&n.setFailed(e.message);}}l();},\"cfbad0c2\":function  (e,t,i,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]});}(t,{buildProducts:function(){return f;},cloneRepo:function(){return d;},generateViteTemplate:function(){return g;},pnpmInstall:function(){return u;}});let r=i(\"@swc/helpers/_/_interop_require_default\"),s=i(\"@swc/helpers/_/_interop_require_wildcard\"),c=s._(i(\"29bf5eaf\")),l=i(\"6fca8cd7\"),o=s._(i(\"5ba0ffaf\")),p=r._(i(\"fs\")),d=async()=>{c.startGroup(\"clone repo\");try{let e=await (0,l.exec)(\"git\",[\"init\",\"tdesign-starter-cli\"]);await (0,l.exec)(\"git\",[\"-C\",\"tdesign-starter-cli\",\"remote\",\"add\",\"origin\",\"https://github.com/Tencent/tdesign-starter-cli\"]),await (0,l.exec)(\"git\",[\"-C\",\"tdesign-starter-cli\",\"fetch\",\"--depth=1\",\"origin\",\"develop\"]),await (0,l.exec)(\"git\",[\"-C\",\"tdesign-starter-cli\",\"checkout\",\"develop\"]),0!==e&&c.setFailed(\"clone repo failed\"),c.info(\"clone repo success\"),process.chdir(\"./tdesign-starter-cli\");}catch(e){e instanceof Error&&c.setFailed(e.message);}c.endGroup();},u=async()=>{c.startGroup(\"install pnpm\");try{let e=await (0,l.exec)(\"npm install pnpm -g\");0!==e&&c.setFailed(\"pnpm install failed\"),c.info(\"install pnpm success\");}catch(e){e instanceof Error&&c.setFailed(e.message);}c.endGroup();},f=async()=>{c.startGroup(\"build dist\");try{let e=await (0,l.exec)(\"pnpm install\"),t=await (0,l.exec)(\"pnpm run build\");(0!==t||0!==e)&&c.setFailed(\"build failed\"),c.info(\"build success\");}catch(e){e instanceof Error&&c.setFailed(e.message);}c.endGroup();},g=async({rootDir:e})=>{c.startGroup(\"generate vite template\");try{await (0,l.exec)(\"pnpm run dev init template-vite-vue2 --description 这是一个vite构建的vue2项目 --type vue2 --template lite --buildToolType vite\"),c.info(\"vite模版生成成功\");let t=await o.create(\"template-vite-*/vite.config.*\"),i=await t.glob();c.info(`files ${i}`);let n=p.default.readdirSync(e);c.info(`files ${n}`);}catch(e){e instanceof Error&&c.setFailed(e.message);}c.endGroup();};},});"],"names":[],"mappings":"+KAAA"}